chrome.runtime.onInstalled.addListener(async()=>{chrome.tabs.create({url:"https://x.com"})});function u(){console.log("X is loaded")}chrome.action.onClicked.addListener(r=>{console.log("Extension icon clicked!"),r.url.includes("chrome://")||chrome.tabs.create({url:"https://x.com"},function(o){console.log("New tab created: ",o),chrome.tabs.onUpdated.addListener(function c(t,e){console.log("Tab updated: ",t,e),t===o.id&&e.status==="complete"&&(chrome.scripting.executeScript({target:{tabId:o.id},function:u}),console.log("Script injected into tab: ",t),chrome.tabs.onUpdated.removeListener(c))})})});chrome.runtime.onMessageExternal.addListener((r,o,c)=>{if(r.type==="GET_USER_INFO")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="VERIFY_REFERRAL_CODE")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="VERIFY_OTP_CODE")fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()}));else{if(r.type==="CLAIM_REWARDS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="CLAIM_POINTS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="CLAIMED_POINTS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="GET_SIGNATURE")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="GET_PRICE")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="LOAD_TWEETS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0}});
